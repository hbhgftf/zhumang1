{"version":3,"file":"spxz.js","sources":["pages/index/spxz.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvc3B4ei52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<input type=\"text\" v-model=\"inputID\" :placeholder=\" isLogin ? 'please enter a caller userID' : 'please enter your login userID' \" />\n\t\t<text v-show=\"isLogin\"> your userID: {{ userID }} </text>\n\t\t<button v-show=\"!isLogin\" @click=\"handleLogin\"> Login </button>\n\t\t<button v-show=\"isLogin\" @click=\"handleCall\"> start call </button>\n\t</view>\n</template>\n<script>\n\tconst TUICallKit = uni.requireNativePlugin('TencentCloud-TUICallKit'); //【1】import TUICallKit plugin\n\tuni.$TUICallKit = TUICallKit;\n\timport { genTestUserSig } from '../../debug/GenerateTestUserSig.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinputID: '',\n\t\t\t\tisLogin: false,\n\t\t\t\tuserID: '',\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleLogin() {\n\t\t\t\tthis.userID = this.inputID;\n\t\t\t\tconst { userSig, sdkAppID: SDKAppID } = genTestUserSig(this.userID);\n\t\t\t\tconst loginParams = { SDKAppID, userID: this.userID, userSig };   // apply SDKAppID、userSig\n                //【2】Login\n\t\t\t\tuni.$TUICallKit.login( loginParams, res => {\n\t\t\t\t\t\tif (res.code === 0) {\n\t\t\t\t\t\t\tthis.isLogin = true;\n\t\t\t\t\t\t\tthis.inputID = '';\n\t\t\t\t\t\t\tconsole.log('[TUICallKit] login success.');\n\t\t\t\t\t\t} else { \n                            console.error('[TUICallKit] login failed, failed message = ', res.msg, params);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\t\n\t\t\t},\n\t\t\thandleCall() {\n\t\t\t\ttry {\n\t\t\t\t\tconst callParams = {\n\t\t\t\t\t\tuserIDList: [this.inputID],\n\t\t\t\t\t\tcallMediaType: 2,   // 1 -- audio call，2 -- video call\n\t\t\t\t\t\tcallParams: { roomID: 234, strRoomID: '2323423', timeout:30 },\n\t\t\t\t\t};\n                    //【3】start 1v1 video call\n\t\t\t\t\tuni.$TUICallKit.calls( callParams, res => {\n\t\t\t\t\t\t\tconsole.log('[TUICallKit] call params: ', JSON.stringify(res));\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tthis.inputID = '';\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('[TUICallKit] call error: ', error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style>\n.container {\n\tmargin: 30px;\n}\n.container input {\n\theight: 50px;\n\tborder: 1px solid;\n}\n.container button {\n\tmargin-top: 30px;\n}\n</style> ","import MiniProgramPage from 'D:/JAVAEE/myflies/uniapp-app/uniapp/pages/index/spxz.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","genTestUserSig"],"mappings":";;;AASC,MAAM,aAAaA,cAAG,MAAC,oBAAoB,yBAAyB;AACpEA,cAAG,MAAC,cAAc;AAElB,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,SAAS;AAAA,MACT,QAAQ;AAAA,IACT;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,cAAc;AACb,WAAK,SAAS,KAAK;AACnB,YAAM,EAAE,SAAS,UAAU,SAAW,IAAEC,yCAAe,KAAK,MAAM;AAClE,YAAM,cAAc,EAAE,UAAU,QAAQ,KAAK,QAAQ;AAErDD,oBAAAA,MAAI,YAAY;AAAA,QAAO;AAAA,QAAa,SAAO;AACzC,cAAI,IAAI,SAAS,GAAG;AACnB,iBAAK,UAAU;AACf,iBAAK,UAAU;AACfA,0BAAAA,MAAY,MAAA,OAAA,8BAAA,6BAA6B;AAAA,iBACnC;AACeA,gCAAA,MAAA,SAAA,8BAAc,gDAAgD,IAAI,KAAK,MAAM;AAAA,UACnG;AAAA,QACD;AAAA;IAED;AAAA,IACD,aAAa;AACZ,UAAI;AACH,cAAM,aAAa;AAAA,UAClB,YAAY,CAAC,KAAK,OAAO;AAAA,UACzB,eAAe;AAAA;AAAA,UACf,YAAY,EAAE,QAAQ,KAAK,WAAW,WAAW,SAAQ,GAAI;AAAA;AAG9DA,sBAAAA,MAAI,YAAY;AAAA,UAAO;AAAA,UAAY,SAAO;AACxCA,gCAAA,MAAA,OAAA,8BAAY,8BAA8B,KAAK,UAAU,GAAG,CAAC;AAAA,UAC9D;AAAA;AAED,aAAK,UAAU;AAAA,MACd,SAAO,OAAO;AACfA,sBAAY,MAAA,MAAA,OAAA,8BAAA,6BAA6B,KAAK;AAAA,MAC/C;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;ACtDD,GAAG,WAAW,eAAe;"}