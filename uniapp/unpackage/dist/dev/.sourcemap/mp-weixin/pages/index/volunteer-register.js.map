{"version":3,"file":"volunteer-register.js","sources":["pages/index/volunteer-register.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvdm9sdW50ZWVyLXJlZ2lzdGVyLnZ1ZQ"],"sourcesContent":["<!-- 志愿者注册页面 -->\n<template>\n  <view class=\"register-container\">\n    <view class=\"form-header\">\n      <text class=\"header-title\">成为志愿者</text>\n      <text class=\"header-subtitle\">让我们一起帮助他人</text>\n    </view>\n\n    <view class=\"form-content\">\n      <view class=\"form-item\">\n        <text class=\"label\">姓名</text>\n        <input type=\"text\" v-model=\"formData.name\" placeholder=\"请输入您的真实姓名\" />\n      </view>\n\n      <view class=\"form-item\">\n        <text class=\"label\">手机号码</text>\n        <input \n          type=\"number\" \n          v-model=\"formData.phone\" \n          placeholder=\"请输入手机号码\" \n          maxlength=\"11\"\n        />\n      </view>\n\n      <view class=\"form-item\">\n        <text class=\"label\">身份证号</text>\n        <input type=\"idcard\" v-model=\"formData.idCard\" placeholder=\"请输入身份证号码\" />\n      </view>\n\n      <button class=\"submit-btn\" @tap=\"submitForm\">提交申请</button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      formData: {\n        name: '',\n        phone: '',\n        idCard: '',\n        openid: ''\n      }\n    }\n  },\n  onLoad() {\n    const userInfo = uni.getStorageSync('userInfo')\n    if (userInfo) {\n      this.formData.openid = userInfo.openid\n      console.log(this.formData.openid)\n    } else {\n      uni.showToast({\n        title: '请先登录',\n        icon: 'none'\n      })\n      setTimeout(() => {\n        uni.navigateTo({\n          url: '/pages/mine/'\n        })\n      }, 1500)\n    }\n  },\n  methods: {\n    async submitForm() {\n      // 表单验证\n      if (!this.formData.name || !this.formData.phone || !this.formData.idCard) {\n        uni.showToast({\n          title: '请填写完整信息',\n          icon: 'none'\n        })\n        return\n      }\n\n      // 打印表单数据到控制台\n      console.log('志愿者注册表单数据：', {\n        姓名: this.formData.name,\n        手机号码: this.formData.phone,\n        身份证号: this.formData.idCard,\n        openid: this.formData.openid\n      })\n\n      try {\n        // 调用注册接口\n        console.log('开始请求注册接口...')\n        const res = await uni.request({\n          url: `${this.$config.baseUrl}/user/user/volunteer/register`,\n          method: 'POST',\n          data: this.formData,\n          header: {\n            'content-type': 'application/json'\n          }\n        })\n        \n        console.log('接口返回数据：', res)\n        \n        if (res.data.success) {\n          uni.showToast({\n            title: '申请提交成功',\n            icon: 'success'\n          })\n          setTimeout(() => {\n            uni.navigateBack()\n          }, 1500)\n        } else {\n          console.error('注册失败，错误信息：', res.data)\n          uni.showToast({\n            title: res.data.message || '提交失败',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('请求发生错误：', error)\n        console.error('错误详情：', {\n          错误信息: error.message,\n          错误堆栈: error.stack,\n          请求数据: this.formData\n        })\n        uni.showToast({\n          title: '提交失败，请重试',\n          icon: 'none'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  padding: 30rpx;\n  background: #f5f5f5;\n  min-height: 100vh;\n}\n\n.form-header {\n  text-align: center;\n  margin-bottom: 40rpx;\n}\n\n.header-title {\n  font-size: 40rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.header-subtitle {\n  font-size: 28rpx;\n  color: #666;\n}\n\n.form-content {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n}\n\n.form-item {\n  margin-bottom: 30rpx;\n}\n\n.label {\n  font-size: 28rpx;\n  color: #333;\n  margin-bottom: 16rpx;\n  display: block;\n}\n\ninput {\n  width: 100%;\n  height: 80rpx;\n  border: 2rpx solid #eee;\n  border-radius: 8rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n  background: #fff;\n}\n\n.submit-btn {\n  background: #1AAD19;\n  color: white;\n  border-radius: 40rpx;\n  margin-top: 40rpx;\n  font-size: 32rpx;\n}\n</style> ","import MiniProgramPage from 'D:/JAVAEE/myflies/uniapp-app/uniapp/pages/index/volunteer-register.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAmCA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AACP,UAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAC9C,QAAI,UAAU;AACZ,WAAK,SAAS,SAAS,SAAS;AAChCA,oBAAY,MAAA,MAAA,OAAA,4CAAA,KAAK,SAAS,MAAM;AAAA,WAC3B;AACLA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AACD,iBAAW,MAAM;AACfA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,SACN;AAAA,MACF,GAAE,IAAI;AAAA,IACT;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,MAAM,aAAa;AAEjB,UAAI,CAAC,KAAK,SAAS,QAAQ,CAAC,KAAK,SAAS,SAAS,CAAC,KAAK,SAAS,QAAQ;AACxEA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAGAA,oBAAAA,MAAY,MAAA,OAAA,4CAAA,cAAc;AAAA,QACxB,IAAI,KAAK,SAAS;AAAA,QAClB,MAAM,KAAK,SAAS;AAAA,QACpB,MAAM,KAAK,SAAS;AAAA,QACpB,QAAQ,KAAK,SAAS;AAAA,OACvB;AAED,UAAI;AAEFA,sBAAAA,+DAAY,aAAa;AACzB,cAAM,MAAM,MAAMA,cAAG,MAAC,QAAQ;AAAA,UAC5B,KAAK,GAAG,KAAK,QAAQ,OAAO;AAAA,UAC5B,QAAQ;AAAA,UACR,MAAM,KAAK;AAAA,UACX,QAAQ;AAAA,YACN,gBAAgB;AAAA,UAClB;AAAA,SACD;AAEDA,sBAAAA,MAAY,MAAA,OAAA,4CAAA,WAAW,GAAG;AAE1B,YAAI,IAAI,KAAK,SAAS;AACpBA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,WACP;AACD,qBAAW,MAAM;AACfA,0BAAAA,MAAI,aAAa;AAAA,UAClB,GAAE,IAAI;AAAA,eACF;AACLA,wBAAc,MAAA,MAAA,SAAA,6CAAA,cAAc,IAAI,IAAI;AACpCA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO,IAAI,KAAK,WAAW;AAAA,YAC3B,MAAM;AAAA,WACP;AAAA,QACH;AAAA,MACA,SAAO,OAAO;AACdA,sBAAAA,MAAA,MAAA,SAAA,6CAAc,WAAW,KAAK;AAC9BA,sBAAAA,MAAA,MAAA,SAAA,6CAAc,SAAS;AAAA,UACrB,MAAM,MAAM;AAAA,UACZ,MAAM,MAAM;AAAA,UACZ,MAAM,KAAK;AAAA,SACZ;AACDA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;AC5HA,GAAG,WAAW,eAAe;"}