{"version":3,"file":"index.js","sources":["pages-ai-desk/ai-desk-customer-uniapp/components/common/BottomPopup/index.vue"],"sourcesContent":["<!--\n  移动端 底部弹出对话框 组件\n  - pc 端，仅展示【插槽】内容，无弹出对话框，无对话框相关 header footer\n  - mobile 端，底部弹出对话框，支持 对话框相关 header footer 定制展示，详情请参见参数列表\n-->\n<template>\n  <div v-if=\"props.show\">\n    <div\n      :class=\"[\n        'bottom-popup',\n        isUniFrameWork && 'bottom-popup-uni',\n        'bottom-popup-h5',\n        props.modal && 'bottom-popup-modal',\n      ]\"\n      @click=\"closeBottomPopup\"\n    >\n      <div\n        ref=\"dialogRef\"\n        :class=\"['bottom-popup-main', 'bottom-popup-h5-main']\"\n        :style=\"{\n          height: props.height,\n          borderTopLeftRadius: props.borderRadius,\n          borderTopRightRadius: props.borderRadius,\n        }\"\n        @click.stop\n      >\n        <div\n          v-if=\"title || showHeaderCloseButton\"\n          class=\"header\"\n        >\n          <div\n            v-if=\"title\"\n            class=\"header-title\"\n          >\n            {{ title }}\n          </div>\n          <div\n            v-if=\"showHeaderCloseButton\"\n            class=\"header-close\"\n            @click=\"closeBottomPopup\"\n          >\n            {{ TUITranslateService.t(\"关闭\") }}\n          </div>\n        </div>\n        <slot />\n        <div\n          v-if=\"showFooterSubmitButton\"\n          class=\"footer\"\n        >\n          <div\n            class=\"footer-submit\"\n            @click=\"submit\"\n          >\n            {{ submitButtonContent }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport vue from '../../../adapter-vue';\nimport { TUITranslateService } from '@tencentcloud/chat-uikit-engine';\nimport { outsideClick } from '@tencentcloud/universal-api';\nimport { isH5, isUniFrameWork } from '../../../utils/env';\nconst { ref, watch, nextTick } = vue;\n\nconst props = defineProps({\n  // Whether to display the bottom pop-up dialog box\n  show: {\n    type: Boolean,\n    default: false,\n  },\n  // Whether a mask layer is required, the default is true\n  modal: {\n    type: Boolean,\n    default: true,\n  },\n  // Popup box content area height (excluding mask), default is fit-content\n  height: {\n    type: String,\n    default: 'fit-content',\n  },\n  // Whether the pop-up dialog box can be closed by clicking outside, the default is true\n  // uniapp only supports closing the pop-up dialog box by clicking the mask\n  closeByClickOutside: {\n    type: Boolean,\n    default: true,\n  },\n  // The rounded angle of the top border corners is 0px by default, i.e. right angle by default\n  borderRadius: {\n    type: String,\n    default: '0px',\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  // Whether to display the top close button, not displayed by default\n  showHeaderCloseButton: {\n    type: Boolean,\n    default: false,\n  },\n  // Whether to display the submit button at the bottom, not displayed by default\n  showFooterSubmitButton: {\n    type: Boolean,\n    default: false,\n  },\n  // Bottom submit button text, only valid when showFooterSubmitButton is true\n  submitButtonContent: {\n    type: String,\n    default: () => TUITranslateService.t('确定'),\n  },\n});\n\nconst emits = defineEmits(['onOpen', 'onClose', 'onSubmit']);\nconst dialogRef = ref();\n\nwatch(\n  () => props.show,\n  (newVal: boolean, oldVal: boolean) => {\n    if (newVal === oldVal) {\n      return;\n    }\n    switch (newVal) {\n      case true:\n        emits('onOpen', dialogRef);\n        break;\n      case false:\n        emits('onClose', dialogRef);\n        break;\n    }\n  },\n);\n\nconst closeBottomPopup = () => {\n  if (isUniFrameWork || isH5) {\n    emits('onClose', dialogRef);\n  }\n};\n\nconst submit = () => {\n  emits('onSubmit');\n  closeBottomPopup();\n};\n</script>\n<style scoped lang=\"scss\" src=\"./style/index.scss\"></style>\n"],"names":["vue","isUniFrameWork","isH5"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,UAAM,EAAE,KAAK,OAAO,SAAA,IAAaA,4CAAAA;AAEjC,UAAM,QAAQ;AAgDd,UAAM,QAAQ;AACd,UAAM,YAAY;AAElB;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,QAAiB,WAAoB;AACpC,YAAI,WAAW,QAAQ;AACrB;AAAA,QACF;AACA,gBAAQ,QAAQ;AAAA,UACd,KAAK;AACH,kBAAM,UAAU,SAAS;AACzB;AAAA,UACF,KAAK;AACH,kBAAM,WAAW,SAAS;AAC1B;AAAA,QACJ;AAAA,MACF;AAAA,IAAA;AAGF,UAAM,mBAAmB,MAAM;AAC7B,UAAIC,2CAAAA,kBAAkBC,2CAAAA,MAAM;AAC1B,cAAM,WAAW,SAAS;AAAA,MAC5B;AAAA,IAAA;AAGF,UAAM,SAAS,MAAM;AACnB,YAAM,UAAU;AACC;IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}