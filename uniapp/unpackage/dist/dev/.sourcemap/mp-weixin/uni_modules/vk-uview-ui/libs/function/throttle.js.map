{"version":3,"file":"throttle.js","sources":["uni_modules/vk-uview-ui/libs/function/throttle.js"],"sourcesContent":["let timeoutArr = [];\r\nlet flagArr = [];\r\n/**\r\n * 节流函数\r\n * 节流原理：在一定时间内，只能触发一次\r\n * @param {Function} fn 要执行的回调函数 \r\n * @param {Number} time 延时的时间\r\n * @param {Boolean} isImmediate 是否立即执行\r\n * @param {String} timeoutName 定时器ID\r\n * @return null\r\n */\r\nfunction throttle(fn, time = 500, isImmediate = true, timeoutName = \"default\") {\r\n\tif(!timeoutArr[timeoutName]) timeoutArr[timeoutName] = null;\r\n\tif (isImmediate) {\r\n\t\tif (!flagArr[timeoutName]) {\r\n\t\t\tflagArr[timeoutName] = true;\r\n\t\t\t// 如果是立即执行，则在time毫秒内开始时执行\r\n\t\t\tif(typeof fn === 'function') fn();\r\n\t\t\ttimeoutArr[timeoutName] = setTimeout(() => {\r\n\t\t\t\tflagArr[timeoutName] = false;\r\n\t\t\t}, time);\r\n\t\t}\r\n\t} else {\r\n\t\tif (!flagArr[timeoutName]) {\r\n\t\t\tflagArr[timeoutName] = true;\r\n\t\t\t// 如果是非立即执行，则在time毫秒内的结束处执行\r\n\t\t\ttimeoutArr[timeoutName] = setTimeout(() => {\r\n\t\t\t\tflagArr[timeoutName] = false;\r\n\t\t\t\tif(typeof fn === 'function') fn();\r\n\t\t\t}, time);\r\n\t\t}\r\n\t}\r\n};\r\nexport default throttle"],"names":[],"mappings":";AAAA,IAAI,aAAa,CAAA;AACjB,IAAI,UAAU,CAAA;AAUd,SAAS,SAAS,IAAI,OAAO,KAAK,cAAc,MAAM,cAAc,WAAW;AAC9E,MAAG,CAAC,WAAW,WAAW;AAAG,eAAW,WAAW,IAAI;AACvD,MAAI,aAAa;AAChB,QAAI,CAAC,QAAQ,WAAW,GAAG;AAC1B,cAAQ,WAAW,IAAI;AAEvB,UAAG,OAAO,OAAO;AAAY;AAC7B,iBAAW,WAAW,IAAI,WAAW,MAAM;AAC1C,gBAAQ,WAAW,IAAI;AAAA,MACvB,GAAE,IAAI;AAAA,IACP;AAAA,EACH,OAAQ;AACN,QAAI,CAAC,QAAQ,WAAW,GAAG;AAC1B,cAAQ,WAAW,IAAI;AAEvB,iBAAW,WAAW,IAAI,WAAW,MAAM;AAC1C,gBAAQ,WAAW,IAAI;AACvB,YAAG,OAAO,OAAO;AAAY;MAC7B,GAAE,IAAI;AAAA,IACP;AAAA,EACD;AACF;;"}