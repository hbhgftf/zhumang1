{"version":3,"file":"queryParams.js","sources":["uni_modules/vk-uview-ui/libs/function/queryParams.js"],"sourcesContent":["/**\r\n * 对象转url参数\r\n * @param {*} data,对象\r\n * @param {*} isPrefix,是否自动加上\"?\"\r\n */\r\nfunction queryParams(data = {}, isPrefix = true, arrayFormat = 'brackets') {\r\n\tlet prefix = isPrefix ? '?' : ''\r\n\tlet _result = []\r\n\tif (['indices', 'brackets', 'repeat', 'comma'].indexOf(arrayFormat) == -1) arrayFormat = 'brackets';\r\n\tfor (let key in data) {\r\n\t\tlet value = data[key]\r\n\t\t// 去掉为空的参数\r\n\t\tif (['', undefined, null].indexOf(value) >= 0) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t// 如果值为数组，另行处理\r\n\t\tif (value.constructor === Array) {\r\n\t\t\t// e.g. {ids: [1, 2, 3]}\r\n\t\t\tswitch (arrayFormat) {\r\n\t\t\t\tcase 'indices':\r\n\t\t\t\t\t// 结果: ids[0]=1&ids[1]=2&ids[2]=3\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\t_result.push(key + '[' + i + ']=' + value[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'brackets':\r\n\t\t\t\t\t// 结果: ids[]=1&ids[]=2&ids[]=3\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '[]=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'repeat':\r\n\t\t\t\t\t// 结果: ids=1&ids=2&ids=3\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'comma':\r\n\t\t\t\t\t// 结果: ids=1,2,3\r\n\t\t\t\t\tlet commaStr = \"\";\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\tcommaStr += (commaStr ? \",\" : \"\") + _value;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_result.push(key + '=' + commaStr)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '[]=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t_result.push(key + '=' + value)\r\n\t\t}\r\n\t}\r\n\treturn _result.length ? prefix + _result.join('&') : ''\r\n}\r\n\r\nexport default queryParams;\r\n"],"names":[],"mappings":";AAKA,SAAS,YAAY,OAAO,CAAE,GAAE,WAAW,MAAM,cAAc,YAAY;AAC1E,MAAI,SAAS,WAAW,MAAM;AAC9B,MAAI,UAAU,CAAE;AAChB,MAAI,CAAC,WAAW,YAAY,UAAU,OAAO,EAAE,QAAQ,WAAW,KAAK;AAAI,kBAAc;AACzF,WAAS,OAAO,MAAM;AACrB,QAAI,QAAQ,KAAK,GAAG;AAEpB,QAAI,CAAC,IAAI,QAAW,IAAI,EAAE,QAAQ,KAAK,KAAK,GAAG;AAC9C;AAAA,IACA;AAED,QAAI,MAAM,gBAAgB,OAAO;AAEhC,cAAQ,aAAW;AAAA,QAClB,KAAK;AAEJ,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACtC,oBAAQ,KAAK,MAAM,MAAM,IAAI,OAAO,MAAM,CAAC,CAAC;AAAA,UAC5C;AACD;AAAA,QACD,KAAK;AAEJ,gBAAM,QAAQ,YAAU;AACvB,oBAAQ,KAAK,MAAM,QAAQ,MAAM;AAAA,UACvC,CAAM;AACD;AAAA,QACD,KAAK;AAEJ,gBAAM,QAAQ,YAAU;AACvB,oBAAQ,KAAK,MAAM,MAAM,MAAM;AAAA,UACrC,CAAM;AACD;AAAA,QACD,KAAK;AAEJ,cAAI,WAAW;AACf,gBAAM,QAAQ,YAAU;AACvB,yBAAa,WAAW,MAAM,MAAM;AAAA,UAC1C,CAAM;AACD,kBAAQ,KAAK,MAAM,MAAM,QAAQ;AACjC;AAAA,QACD;AACC,gBAAM,QAAQ,YAAU;AACvB,oBAAQ,KAAK,MAAM,QAAQ,MAAM;AAAA,UACvC,CAAM;AAAA,MACF;AAAA,IACJ,OAAS;AACN,cAAQ,KAAK,MAAM,MAAM,KAAK;AAAA,IAC9B;AAAA,EACD;AACD,SAAO,QAAQ,SAAS,SAAS,QAAQ,KAAK,GAAG,IAAI;AACtD;;"}