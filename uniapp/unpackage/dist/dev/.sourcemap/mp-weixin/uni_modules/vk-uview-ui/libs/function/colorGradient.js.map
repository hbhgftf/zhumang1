{"version":3,"file":"colorGradient.js","sources":["uni_modules/vk-uview-ui/libs/function/colorGradient.js"],"sourcesContent":["/**\r\n * 求两个颜色之间的渐变值\r\n * @param {string} startColor 开始的颜色\r\n * @param {string} endColor 结束的颜色\r\n * @param {number} step 颜色等分的份额\r\n * */\r\nfunction colorGradient(startColor = 'rgb(0, 0, 0)', endColor = 'rgb(255, 255, 255)', step = 10) {\r\n\tlet startRGB = hexToRgb(startColor, false); //转换为rgb数组模式\r\n\tlet startR = startRGB[0];\r\n\tlet startG = startRGB[1];\r\n\tlet startB = startRGB[2];\r\n\r\n\tlet endRGB = hexToRgb(endColor, false);\r\n\tlet endR = endRGB[0];\r\n\tlet endG = endRGB[1];\r\n\tlet endB = endRGB[2];\r\n\r\n\tlet sR = (endR - startR) / step; //总差值\r\n\tlet sG = (endG - startG) / step;\r\n\tlet sB = (endB - startB) / step;\r\n\tlet colorArr = [];\r\n\tfor (let i = 0; i < step; i++) {\r\n\t\t//计算每一步的hex值 \r\n\t\tlet hex = rgbToHex('rgb(' + Math.round((sR * i + startR)) + ',' + Math.round((sG * i + startG)) + ',' + Math.round((sB *\r\n\t\t\ti + startB)) + ')');\r\n\t\tcolorArr.push(hex);\r\n\t}\r\n\treturn colorArr;\r\n}\r\n\r\n// 将hex表示方式转换为rgb表示方式(这里返回rgb数组模式)\r\nfunction hexToRgb(sColor, str = true) {\r\n\tlet reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\r\n\tsColor = sColor.toLowerCase();\r\n\tif (sColor && reg.test(sColor)) {\r\n\t\tif (sColor.length === 4) {\r\n\t\t\tlet sColorNew = \"#\";\r\n\t\t\tfor (let i = 1; i < 4; i += 1) {\r\n\t\t\t\tsColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));\r\n\t\t\t}\r\n\t\t\tsColor = sColorNew;\r\n\t\t}\r\n\t\t//处理六位的颜色值\r\n\t\tlet sColorChange = [];\r\n\t\tfor (let i = 1; i < 7; i += 2) {\r\n\t\t\tsColorChange.push(parseInt(\"0x\" + sColor.slice(i, i + 2)));\r\n\t\t}\r\n\t\tif(!str) {\r\n\t\t\treturn sColorChange;\r\n\t\t} else {\r\n\t\t\treturn `rgb(${sColorChange[0]},${sColorChange[1]},${sColorChange[2]})`;\r\n\t\t}\r\n\t} else if (/^(rgb|RGB)/.test(sColor)) {\r\n\t\tlet arr = sColor.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\")\r\n\t\treturn arr.map(val => Number(val));\r\n\t} else {\r\n\t\treturn sColor;\r\n\t}\r\n};\r\n\r\n// 将rgb表示方式转换为hex表示方式\r\nfunction rgbToHex(rgb) {\r\n\tlet _this = rgb;\r\n\tlet reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\r\n\tif (/^(rgb|RGB)/.test(_this)) {\r\n\t\tlet aColor = _this.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\");\r\n\t\tlet strHex = \"#\";\r\n\t\tfor (let i = 0; i < aColor.length; i++) {\r\n\t\t\tlet hex = Number(aColor[i]).toString(16);\r\n\t\t\thex = String(hex).length == 1 ? 0 + '' + hex : hex; // 保证每个rgb的值为2位\r\n\t\t\tif (hex === \"0\") {\r\n\t\t\t\thex += hex;\r\n\t\t\t}\r\n\t\t\tstrHex += hex;\r\n\t\t}\r\n\t\tif (strHex.length !== 7) {\r\n\t\t\tstrHex = _this;\r\n\t\t}\r\n\t\treturn strHex;\r\n\t} else if (reg.test(_this)) {\r\n\t\tlet aNum = _this.replace(/#/, \"\").split(\"\");\r\n\t\tif (aNum.length === 6) {\r\n\t\t\treturn _this;\r\n\t\t} else if (aNum.length === 3) {\r\n\t\t\tlet numHex = \"#\";\r\n\t\t\tfor (let i = 0; i < aNum.length; i += 1) {\r\n\t\t\t\tnumHex += (aNum[i] + aNum[i]);\r\n\t\t\t}\r\n\t\t\treturn numHex;\r\n\t\t}\r\n\t} else {\r\n\t\treturn _this;\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n* JS颜色十六进制转换为rgb或rgba,返回的格式为 rgba（255，255，255，0.5）字符串\r\n* sHex为传入的十六进制的色值\r\n* alpha为rgba的透明度\r\n*/\r\nfunction colorToRgba(color, alpha = 0.3) {\r\n\tcolor = rgbToHex(color)\r\n\t// 十六进制颜色值的正则表达式\r\n\tvar reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/\r\n\t/* 16进制颜色转为RGB格式 */\r\n\tlet sColor = color.toLowerCase()\r\n\tif (sColor && reg.test(sColor)) {\r\n\t\tif (sColor.length === 4) {\r\n\t\t\tvar sColorNew = '#'\r\n\t\t\tfor (let i = 1; i < 4; i += 1) {\r\n\t\t\t\tsColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1))\r\n\t\t\t}\r\n\t\t\tsColor = sColorNew\r\n\t\t}\r\n\t\t// 处理六位的颜色值\r\n\t\tvar sColorChange = []\r\n\t\tfor (let i = 1; i < 7; i += 2) {\r\n\t\t\tsColorChange.push(parseInt('0x' + sColor.slice(i, i + 2)))\r\n\t\t}\r\n\t\t// return sColorChange.join(',')\r\n\t\treturn 'rgba(' + sColorChange.join(',') + ',' + alpha + ')'\r\n\t} \r\n\telse {\r\n\t\treturn sColor\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tcolorGradient,\r\n\thexToRgb,\r\n\trgbToHex,\r\n\tcolorToRgba\r\n}"],"names":[],"mappings":"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"}