{"version":3,"file":"message-desk.js","sources":["pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-desk/message-desk-elements/message-desk.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovSkFWQUVFL215ZmxpZXMvdW5pYXBwLWFwcC91bmlhcHAvcGFnZXMtYWktZGVzay9haS1kZXNrLWN1c3RvbWVyLXVuaWFwcC9jb21wb25lbnRzL0N1c3RvbWVyU2VydmljZUNoYXQvbWVzc2FnZS1saXN0L21lc3NhZ2UtZWxlbWVudHMvbWVzc2FnZS1kZXNrL21lc3NhZ2UtZGVzay1lbGVtZW50cy9tZXNzYWdlLWRlc2sudnVl"],"sourcesContent":["<template>\n  <div class=\"message-custom\">\n\n    <div class=\"custom\">\n      <div\n        v-if=\"\n          payload.src === CUSTOM_MESSAGE_SRC.BRANCH ||\n            payload.src === CUSTOM_MESSAGE_SRC.BRANCH_NUMBER ||\n            (payload.src === CUSTOM_MESSAGE_SRC.ROBOT_MSG &&\n              payload.subtype !== 'welcome_msg')\n        \"\n      >\n        <MessageBranch\n          :payload=\"payload\"\n          @sendMessage=\"sendTextMessage\"\n          @heightChanged=\"onHeightChanged\"\n        />\n      </div>\n      <div\n        v-if=\"\n          payload.src === CUSTOM_MESSAGE_SRC.ROBOT_MSG\n        \"\n      >\n        <MessageIMRobotWelcome\n          :payload=\"payload\"\n          @sendMessage=\"sendTextMessage\"\n        />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.FROM_INPUT\">\n        <MessageForm\n          :payload=\"payload\"\n          @sendMessage=\"sendTextMessage\"\n        />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.PRODUCT_CARD\">\n        <MessageProductCard :payload=\"payload\" />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.RICH_TEXT\">\n        <MessageRichText :payload=\"payload\" />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.STREAM_TEXT\">\n        <MessageStream\n          :payload=\"payload\"\n          :messageID=\"messageID\"\n          @heightChanged=\"onHeightChanged\"\n        />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.MULTI_BRANCH\">\n        <MessageMultiBranch\n          :payload=\"payload\"\n          @sendMessage=\"sendTextMessage\"\n          @heightChanged=\"onHeightChanged\"\n        />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.MULTI_FORM && message.flow == 'in'\">\n        <MessageMultiForm :payload=\"payload\"\n          @sendMessage=\"sendCustomMessage\"\n          @showFormPopup=\"handleShowFormPopup\"\n          />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.MENU\">\n        <MessageRating\n          :message=\"props.message\"\n          @sendMessage=\"sendCustomMessage\"\n        />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.CONCURRENCY_LIMIT\">\n        <MessageConcurrencyLimit />\n      </div>\n      <div v-if=\"payload.src === CUSTOM_MESSAGE_SRC.ORDER\">\n        <MessageOrder :payload=\"payload\" />\n      </div>\n  </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { CustomMessagePayload, TextMessagePayload, customerServicePayloadType } from '../../../../../../interface';\nimport MessageRating from './message-rating/index.vue';\nimport vue from '../../../../../../adapter-vue';\nimport { JSONToObject } from '../../../../../../utils/index';\nimport { CUSTOM_MESSAGE_SRC } from '../../../../../../constant';\nimport MessageBranch from './message-branch.vue';\nimport MessageForm from './message-single-form/index.vue';\nimport MessageIMRobotWelcome from './message-robot-welcome.vue';\nimport MessageProductCard from './message-product-card.vue';\nimport MessageRichText from './message-rich-text.vue';\nimport MessageStream from './message-stream.vue';\nimport MessageMultiBranch from './message-multi-branch/index.vue';\nimport MessageMultiForm from './message-multi-form/index.vue';\nimport {\n  IMessageModel,\n  TUIChatService,\n} from '@tencentcloud/chat-uikit-engine';\nimport MessageConcurrencyLimit from \"./message-concurrency-limit.vue\";\nimport MessageOrder from './message-order.vue';\n\ninterface Props {\n  message: IMessageModel;\n}\nconst { computed } = vue;\nexport default {\n  components: {\n    MessageConcurrencyLimit,\n    MessageBranch,\n    MessageForm,\n    MessageProductCard,\n    MessageRichText,\n    MessageIMRobotWelcome,\n    MessageStream,\n    MessageMultiBranch,\n    MessageMultiForm,\n    MessageRating,\n    MessageOrder,\n  },\n  props: {\n    message: {\n      type: Object as () => IMessageModel,\n      default: () => ({}),\n    },\n  },\n  emits: ['showFormPopup', 'heightChanged'],\n  setup(props: Props, { emit }) {\n    const payload = computed<customerServicePayloadType>(() => {\n      return props.message && JSONToObject(props.message?.payload?.data);\n    });\n    const messageID = computed<string>(() => {\n      return props.message.ID;\n    });\n    const sendTextMessage = (payload: TextMessagePayload) => {\n      TUIChatService.sendTextMessage({payload});\n    };\n    const sendCustomMessage = (payload: CustomMessagePayload) => {\n      TUIChatService.sendCustomMessage({payload});\n    };\n    const handleShowFormPopup = (data: boolean) => {\n      emit('showFormPopup', data);\n    };\n    const onHeightChanged = () => {\n      emit('heightChanged');\n    };\n\n    return {\n      payload,\n      messageID,\n      props,\n      sendTextMessage,\n      CUSTOM_MESSAGE_SRC,\n      sendCustomMessage,\n      handleShowFormPopup,\n      onHeightChanged,\n    };\n  },\n};\n</script>\n","import Component from 'D:/JAVAEE/myflies/uniapp-app/uniapp/pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-desk/message-desk-elements/message-desk.vue'\nwx.createComponent(Component)"],"names":["vue","JSONToObject","payload","TUIChatService","CUSTOM_MESSAGE_SRC"],"mappings":";;;;;AA8EA,MAAA,gBAA0B,MAAA;AAI1B,MAAA,gBAA0B,MAAA;AAC1B,MAAA,cAAwB,MAAA;AACxB,MAAA,wBAAkC,MAAA;AAClC,MAAA,qBAA+B,MAAA;AAC/B,MAAA,kBAA4B,MAAA;AAC5B,MAAA,gBAA0B,MAAA;AAC1B,MAAA,qBAA+B,MAAA;AAC/B,MAAA,mBAA6B,MAAA;AAK7B,MAAA,0BAAoC,MAAA;AACpC,MAAA,eAAyB,MAAA;AAKzB,MAAM,EAAE,SAAa,IAAAA;AACrB,MAAe,YAAA;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAAA,EACA,OAAO;AAAA,IACL,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF;AAAA,EACA,OAAO,CAAC,iBAAiB,eAAe;AAAA,EACxC,MAAM,OAAc,EAAE,QAAQ;AACtB,UAAA,UAAU,SAAqC,MAAM;;AACzD,aAAO,MAAM,WAAWC,6CAAA,cAAa,iBAAM,YAAN,mBAAe,YAAf,mBAAwB,IAAI;AAAA,IAAA,CAClE;AACK,UAAA,YAAY,SAAiB,MAAM;AACvC,aAAO,MAAM,QAAQ;AAAA,IAAA,CACtB;AACK,UAAA,kBAAkB,CAACC,aAAgC;AACvDC,oBAAAA,GAAe,gBAAgB,EAAC,SAAAD,SAAQ,CAAA;AAAA,IAAA;AAEpC,UAAA,oBAAoB,CAACA,aAAkC;AAC3DC,oBAAAA,GAAe,kBAAkB,EAAC,SAAAD,SAAQ,CAAA;AAAA,IAAA;AAEtC,UAAA,sBAAsB,CAAC,SAAkB;AAC7C,WAAK,iBAAiB,IAAI;AAAA,IAAA;AAE5B,UAAM,kBAAkB,MAAM;AAC5B,WAAK,eAAe;AAAA,IAAA;AAGf,WAAA;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAAA,oBACAE,0CAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJA,GAAG,gBAAgB,SAAS;"}