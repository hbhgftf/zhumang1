{"version":3,"file":"message-text.js","sources":["pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-text.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovSkFWQUVFL215ZmxpZXMvdW5pYXBwLWFwcC91bmlhcHAvcGFnZXMtYWktZGVzay9haS1kZXNrLWN1c3RvbWVyLXVuaWFwcC9jb21wb25lbnRzL0N1c3RvbWVyU2VydmljZUNoYXQvbWVzc2FnZS1saXN0L21lc3NhZ2UtZWxlbWVudHMvbWVzc2FnZS10ZXh0LnZ1ZQ"],"sourcesContent":["<template>\n  <div :class=\"['message-text-container']\">\n    <span\n      v-for=\"(item, index) in data.text\"\n      :key=\"index\"\n    >\n      <span\n        v-if=\"item.name === 'text'\"\n        class=\"text\"\n      >{{ item.text }}</span>\n      <img\n        v-else\n        class=\"emoji\"\n        :src=\"item.src\"\n        :alt=\"item.emojiKey\"\n      >\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport vue from '../../../../adapter-vue';\nimport {\n  CUSTOM_BASIC_EMOJI_URL,\n  CUSTOM_BASIC_EMOJI_URL_MAPPING,\n} from '../../emoji-config';\nconst { watchEffect, ref } = vue;\ninterface IProps {\n  content: Record<string, any>;\n}\nconst props = withDefaults(defineProps<IProps>(), {\n  content: () => ({}),\n});\nconst data = ref();\nwatchEffect(() => {\n  data.value = props.content;\n  data.value.text?.forEach(\n    (item: {\n      name: string;\n      text?: string;\n      src?: string;\n      type?: string;\n      emojiKey?: string;\n    }) => {\n      if (item.name === 'img' && item?.type === 'custom') {\n        if (!CUSTOM_BASIC_EMOJI_URL) {\n          uni.__f__('warn','at pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-text.vue:47',\n            'CUSTOM_BASIC_EMOJI_URL is required for custom emoji, please check your CUSTOM_BASIC_EMOJI_URL.',\n          );\n        } else if (\n          !item.emojiKey\n          || !CUSTOM_BASIC_EMOJI_URL_MAPPING[item.emojiKey]\n        ) {\n          uni.__f__('warn','at pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-text.vue:54',\n            'emojiKey is required for custom emoji, please check your emojiKey.',\n          );\n        } else {\n          item.src\n            = CUSTOM_BASIC_EMOJI_URL\n            + CUSTOM_BASIC_EMOJI_URL_MAPPING[item.emojiKey];\n        }\n      }\n    },\n  );\n});\n</script>\n<style lang=\"scss\" scoped>\n.message-text-container {\n  display: inline;\n}\n\n.text-select {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n\n.emoji {\n  vertical-align: bottom;\n  width: 20px;\n  height: 20px;\n}\n\n.text {\n  white-space: pre-wrap;\n  font-size: 14px;\n  text-size-adjust: none;\n  font-family: PingFangSC-Regular;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}\n\n.text:lang(en) {\n  white-space: pre-wrap;\n  font-size: 14px;\n  text-size-adjust: none;\n  font-family: PingFangSC-Regular;\n  overflow-wrap: break-word;\n  word-break: normal;\n}\n</style>\n","import Component from 'D:/JAVAEE/myflies/uniapp-app/uniapp/pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-list/message-elements/message-text.vue'\nwx.createComponent(Component)"],"names":["vue","uni"],"mappings":";;;;;;;;;;AA0BM,UAAA,EAAE,aAAa,IAAQ,IAAAA;AAI7B,UAAM,QAAQ;AAGd,UAAM,OAAO;AACb,gBAAY,MAAM;;AAChB,WAAK,QAAQ,MAAM;AACnB,iBAAK,MAAM,SAAX,mBAAiB;AAAA,QACf,CAAC,SAMK;AACJ,cAAI,KAAK,SAAS,UAAS,6BAAM,UAAS,UAAU;AACrB;AACvBC,4BAAAA,MAAA;AAAA,gBAAM;AAAA,gBAAO;AAAA,gBACf;AAAA,cAAA;AAAA,YAaJ;AAAA,UACF;AAAA,QACF;AAAA;AAAA,IACF,CACD;;;;;;;;;;;;;;;;;;;;AC/DD,GAAG,gBAAgB,SAAS;"}