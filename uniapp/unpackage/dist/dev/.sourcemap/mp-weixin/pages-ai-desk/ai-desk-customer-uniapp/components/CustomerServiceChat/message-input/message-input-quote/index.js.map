{"version":3,"file":"index.js","sources":["pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-input/message-input-quote/index.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovSkFWQUVFL215ZmxpZXMvdW5pYXBwLWFwcC91bmlhcHAvcGFnZXMtYWktZGVzay9haS1kZXNrLWN1c3RvbWVyLXVuaWFwcC9jb21wb25lbnRzL0N1c3RvbWVyU2VydmljZUNoYXQvbWVzc2FnZS1pbnB1dC9tZXNzYWdlLWlucHV0LXF1b3RlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <div\n    v-if=\"Boolean(quoteMessage) && props.displayType !== 'audio'\"\n    :class=\"{\n      'input-quote-container': true,\n      'input-quote-container-h5': isH5 || isUniFrameWork,\n    }\"\n  >\n    <div class='input-quote-content-h5'>\n      <div>\n          <div class=\"input-quote-sender-h5\">\n          {{ quoteMessage.nick || quoteMessage.from }}\n        </div>\n        <div class=\"max-one-line\">\n          {{ quoteContentText }}\n        </div>\n      </div>\n        <Icon\n          class=\"input-quote-close-icon\"\n          :file=\"closeIcon\"\n          width=\"11px\"\n          height=\"11px\"\n          @onClick=\"cancelQuote\"\n        />\n\n      \n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport vue from '../../../../adapter-vue';\nimport TUIChatEngine, {\n  TUIStore,\n  StoreName,\n  TUITranslateService,\n  IMessageModel,\n} from '@tencentcloud/chat-uikit-engine';\nimport Icon from '../../../common/Icon.vue';\nimport closeIcon from '../../../../assets/close-quote-icon.svg';\nimport { isH5, isUniFrameWork } from '../../../../utils/env';\nimport { transformTextWithKeysToEmojiNames } from '../../emoji-config';\nimport { InputDisplayType } from '../../../../interface';\nconst { ref, computed, onMounted, onUnmounted } = vue;\n\ninterface IProps {\n  displayType?: InputDisplayType;\n}\n\nconst props = withDefaults(defineProps<IProps>(), {\n  displayType: 'editor',\n});\n\nconst TYPES = TUIChatEngine.TYPES;\nconst quoteMessage = ref<IMessageModel>();\n\nonMounted(() => {\n  TUIStore.watch(StoreName.CHAT, {\n    quoteMessage: onQuoteMessageUpdated,\n  });\n});\n\nonUnmounted(() => {\n  TUIStore.unwatch(StoreName.CHAT, {\n    quoteMessage: onQuoteMessageUpdated,\n  });\n});\n\nconst quoteContentText = computed(() => {\n  let _quoteContentText;\n  switch (quoteMessage.value?.type) {\n    case TYPES.MSG_TEXT:\n      _quoteContentText = transformTextWithKeysToEmojiNames(\n        quoteMessage.value.payload?.text,\n      );\n      break;\n    case TYPES.MSG_IMAGE:\n      _quoteContentText = TUITranslateService.t('TUIChat.图片');\n      break;\n    case TYPES.MSG_AUDIO:\n      _quoteContentText = TUITranslateService.t('TUIChat.语音');\n      break;\n    case TYPES.MSG_VIDEO:\n      _quoteContentText = TUITranslateService.t('TUIChat.视频');\n      break;\n    case TYPES.MSG_FILE:\n      _quoteContentText = TUITranslateService.t('TUIChat.文件');\n      break;\n    case TYPES.MSG_CUSTOM:\n      _quoteContentText = TUITranslateService.t('TUIChat.自定义');\n      break;\n    case TYPES.MSG_FACE:\n      _quoteContentText = TUITranslateService.t('TUIChat.表情');\n      break;\n    case TYPES.MSG_MERGER:\n      _quoteContentText = TUITranslateService.t('TUIChat.聊天记录');\n      break;\n    default:\n      _quoteContentText = TUITranslateService.t('TUIChat.消息');\n      break;\n  }\n  return _quoteContentText;\n});\n\nfunction cancelQuote() {\n  TUIStore.update(StoreName.CHAT, 'quoteMessage', {\n    message: undefined,\n    type: 'quote',\n  });\n}\n\nfunction onQuoteMessageUpdated(options?: {\n  message: IMessageModel;\n  type: string;\n}) {\n  if (options?.message && options?.type === 'quote') {\n    quoteMessage.value = options.message;\n  } else {\n    quoteMessage.value = undefined;\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n%common-container-style {\n  margin: 5px 100px 5px 8px;\n  display: flex;\n  flex: 0 1 auto;\n\n  .input-quote-content {\n    display: flex;\n    flex: 0 1 auto;\n    background-color: #fafafa;\n    border-radius: 8px;\n    padding: 12px;\n    font-size: 12px;\n    align-items: center;\n    line-height: 16px;\n    max-width: 100%;\n    box-sizing: border-box;\n    min-width: 0;\n\n    .max-one-line {\n      flex: 0 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-family: PingFangSC-Regular;\n    }\n  }\n  .input-quote-content-h5 {\n    display: flex;\n    justify-content: space-between;\n    background-color: #fafafa;\n    padding: 12px;\n    font-size: 12px;\n    align-items: center;\n    line-height: 16px;\n    max-width: 100%;\n    box-sizing: border-box;\n    width:100%;\n\n    .max-one-line {\n      flex: 0 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-family: PingFangSC-Regular;\n    }\n\n    .input-quote-sender-h5 {\n      font-size: 10px;\n      color:#00000080;\n      font-family: PingFangSC-Regular;\n    }\n  }\n\n  .input-quote-close-icon {\n    \n  }\n}\n\n.input-quote-container {\n  @extend %common-container-style;\n\n  max-width: 500px;\n}\n\n.input-quote-container-uni {\n  @extend %common-container-style;\n\n  width: fit-content;\n  max-width: 250px;\n  margin: 5px 60px 0 30px;\n}\n\n.input-quote-container-h5 {\n  @extend %common-container-style;\n  width:100%;\n  // max-width: 250px;\n  margin: 5px 0 5px 0;\n}\n</style>\n","import Component from 'D:/JAVAEE/myflies/uniapp-app/uniapp/pages-ai-desk/ai-desk-customer-uniapp/components/CustomerServiceChat/message-input/message-input-quote/index.vue'\nwx.createComponent(Component)"],"names":["vue","TUIChatEngine","TUIStore","StoreName","transformTextWithKeysToEmojiNames","TUITranslateService"],"mappings":";;;;;;;;;AAsCA,MAAA,OAAiB,MAAA;;;;;;;AAKjB,UAAM,EAAE,KAAK,UAAU,WAAW,gBAAgBA,4CAAAA;AAMlD,UAAM,QAAQ;AAId,UAAM,QAAQC,cAAc,GAAA;AAC5B,UAAM,eAAe;AAErB,cAAU,MAAM;AACLC,uBAAA,MAAMC,kBAAU,MAAM;AAAA,QAC7B,cAAc;AAAA,MAAA,CACf;AAAA,IAAA,CACF;AAED,gBAAY,MAAM;AACPD,uBAAA,QAAQC,kBAAU,MAAM;AAAA,QAC/B,cAAc;AAAA,MAAA,CACf;AAAA,IAAA,CACF;AAEK,UAAA,mBAAmB,SAAS,MAAM;;AAClC,UAAA;AACI,eAAA,kBAAa,UAAb,mBAAoB,MAAM;AAAA,QAChC,KAAK,MAAM;AACW,8BAAAC,kFAAA;AAAA,aAClB,kBAAa,MAAM,YAAnB,mBAA4B;AAAA,UAAA;AAE9B;AAAA,QACF,KAAK,MAAM;AACW,8BAAAC,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,aAAa;AACvD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,QACF,KAAK,MAAM;AACW,8BAAAA,cAAA,GAAoB,EAAE,cAAc;AACxD;AAAA,QACF;AACsB,8BAAAA,cAAA,GAAoB,EAAE,YAAY;AACtD;AAAA,MACJ;AACO,aAAA;AAAA,IAAA,CACR;AAED,aAAS,cAAc;AACZH,oBAAAA,GAAA,OAAOC,kBAAU,MAAM,gBAAgB;AAAA,QAC9C,SAAS;AAAA,QACT,MAAM;AAAA,MAAA,CACP;AAAA,IACH;AAEA,aAAS,sBAAsB,SAG5B;AACD,WAAI,mCAAS,aAAW,mCAAS,UAAS,SAAS;AACjD,qBAAa,QAAQ,QAAQ;AAAA,MAAA,OACxB;AACL,qBAAa,QAAQ;AAAA,MACvB;AAAA,IACF;;;;;;;;;;;;;;;;;;;ACvHA,GAAG,gBAAgB,SAAS;"}